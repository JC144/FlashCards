<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#000000">
    <meta name="description" content="Flashcard app with accelerometer controls">
    <title>Flashcards</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 192 192'><rect fill='%23000' width='192' height='192'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-size='120' font-weight='bold' fill='%23fff' font-family='Arial'>F</text></svg>">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Home Screen -->
    <section id="home-screen" class="screen active">
        <div class="container">
            <div class="home-header">
                <h1>FLASHCARDS</h1>
                <button id="install-btn" class="btn btn-install" style="display: none;">INSTALL</button>
            </div>
            
            <div class="home-content">
                <button id="import-btn" class="btn btn-primary">IMPORT NEW</button>
                
                <div class="quizzes-section">
                    <h2>YOUR QUIZZES</h2>
                    <div id="quizzes-list" class="quizzes-list"></div>
                    <p id="no-quizzes" class="empty-state">No quizzes yet. Import one to get started.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Import Screen -->
    <section id="import-screen" class="screen">
        <div class="container">
            <button id="back-from-import" class="btn-back">← BACK</button>
            <h1>IMPORT QUIZ</h1>
            
            <div class="import-content">
                <p class="instruction">Paste your JSON quiz data below:</p>
                <textarea id="json-input" class="json-input" placeholder='{"title": "Quiz Name", "questions": [{"q": "Question?", "a": "Answer"}]}' spellcheck="false"></textarea>
                <button id="import-submit" class="btn btn-primary">IMPORT & START</button>
                <div id="import-error" class="error-message"></div>
            </div>
        </div>
    </section>

    <!-- Flashcard Screen -->
    <section id="flashcard-screen" class="screen">
        <div class="flashcard-container">
            <div class="flashcard-top-row">
                <div id="quiz-timer" class="quiz-timer">00:00</div>
            </div>

            <!-- Progress bar -->
            <div class="progress-bar">
                <div id="correct-bar" class="correct-bar"></div>
                <div id="incorrect-bar" class="incorrect-bar"></div>
            </div>

            <!-- Quiz title and counter -->
            <div class="quiz-info">
                <h2 id="quiz-title"></h2>
                <span id="question-counter"></span>
            </div>

            <!-- Name input (only on first load) -->
            <div id="name-prompt" class="name-prompt">
                <input id="user-name-input" type="text" placeholder="Your name" class="name-input" autocomplete="off">
                <button id="start-quiz-btn" class="btn btn-primary">START QUIZ</button>
            </div>

            <!-- Flashcard -->
            <div id="flashcard-wrapper" class="flashcard-wrapper" style="display: none;">
                <div id="flashcard" class="flashcard">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            <div class="card-content">
                                <div class="card-text-wrapper">
                                    <p class="card-label">QUESTION</p>
                                    <p id="question-text" class="card-text"></p>
                                </div>
                            </div>
                        </div>
                        <div class="flashcard-back">
                            <div class="card-content">
                                <div class="card-text-wrapper">
                                    <p class="card-label">ANSWER</p>
                                    <p id="answer-text" class="card-text"></p>
                                </div>
                                <!-- Action buttons on back side -->
                                <div class="card-actions">
                                    <button id="wrong-btn" class="btn btn-wrong">✗ WRONG</button>
                                    <button id="correct-btn" class="btn btn-correct">✓ CORRECT</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- End Screen -->
    <section id="end-screen" class="screen">
        <div class="container">
            <h1>RESULTS</h1>
            
            <div class="results-content">
                <div class="result-display">
                    <div class="result-score">
                        <span id="final-correct" class="score-correct">0</span>
                        <span class="score-separator">/</span>
                        <span id="final-total" class="score-total">5</span>
                    </div>
                    <p id="user-name-display" class="player-name"></p>
                    <p id="final-time" class="result-time">TIME 00:00</p>
                </div>

                <div class="previous-results">
                    <h3>PREVIOUS RESULTS</h3>
                    <div id="results-history" class="results-history"></div>
                </div>

                <button id="home-btn" class="btn btn-primary">HOME</button>
            </div>
        </div>
    </section>

    <script src="app.js"></script>
    <script>
        // Register service worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js')
                .then(registration => {
                    console.log('Service Worker registered:', registration);
                })
                .catch(error => {
                    console.log('Service Worker registration failed:', error);
                });
        }
    </script>
</body>
</html>
